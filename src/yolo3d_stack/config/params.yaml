# --------------------------------------------------------
# Configuration for YOLO 3D Stack
# --------------------------------------------------------

# Node 1: YOLOv11 Object Detection
yolo11_node:
  ros__parameters:
    camera_topic: "/camera/image_raw"
    model_path: "/home/mecatron/yolo11n.onnx" 
    confidence_threshold: 0.45
    use_cuda: true

# Node 2: Depth Anything V2
depth_anything_node:
  ros__parameters:
    camera_topic: "/camera/image_raw"
    output_topic: "/depth/image_raw"
    # Path to your Depth-Anything-V2-Small model weights
    model_path: "/home/mecatron/depth_anything_v2_vits.onnx" # Update this path!
    input_width: 518
    input_height: 518
    use_cuda: true

# Node 3: Fusion / BEV
fusion_bev_node:
  ros__parameters:
    # Topics to subscribe to
    image_topic: "/camera/image_raw"
    depth_topic: "/depth/image_raw"
    detections_topic: "/yolo/detections"
    
    # Camera Intrinsics (Calibrate these for better accuracy!)
    camera_fx: 600.0
    camera_fy: 600.0
    camera_cx: 320.0
    camera_cy: 240.0
    
    # BEV Settings
    bev_width: 640
    bev_height: 640
    scale_factor: 0.9  # The linear calibration factor we found earlier
